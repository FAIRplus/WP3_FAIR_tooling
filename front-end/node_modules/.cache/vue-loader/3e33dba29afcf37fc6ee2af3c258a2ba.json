{"remainingRequest":"/home/eva/FAIRplus/tooling/WP3_FAIR_tooling/front-end/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/eva/FAIRplus/tooling/WP3_FAIR_tooling/front-end/src/components/Results.vue?vue&type=style&index=0&id=76e582f6&scoped=true&lang=css&","dependencies":[{"path":"/home/eva/FAIRplus/tooling/WP3_FAIR_tooling/front-end/src/components/Results.vue","mtime":1643905859650},{"path":"/home/eva/FAIRplus/tooling/WP3_FAIR_tooling/front-end/node_modules/css-loader/dist/cjs.js","mtime":1640024185304},{"path":"/home/eva/FAIRplus/tooling/WP3_FAIR_tooling/front-end/node_modules/vue-loader/lib/loaders/stylePostLoader.js","mtime":1640024186212},{"path":"/home/eva/FAIRplus/tooling/WP3_FAIR_tooling/front-end/node_modules/postcss-loader/src/index.js","mtime":1640024185644},{"path":"/home/eva/FAIRplus/tooling/WP3_FAIR_tooling/front-end/node_modules/cache-loader/dist/cjs.js","mtime":1640024184632},{"path":"/home/eva/FAIRplus/tooling/WP3_FAIR_tooling/front-end/node_modules/vue-loader/lib/index.js","mtime":1640024185900}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCi52LWRhdGEtdGFibGUgPj4+IHRoIHsKICBmb250LXNpemU6IHNtYWxsZXIgIWltcG9ydGFudDsgCn0KCi52LWRhdGEtdGFibGUudi1kYXRhLXRhYmxlLnYtZGF0YS10YWJsZSA+Pj4gdHI6aG92ZXIgIHsKICBiYWNrZ3JvdW5kLWNvbG9yOiB3aGl0ZSAhaW1wb3J0YW50Owp9Cgoudi1kYXRhLXRhYmxlLnYtZGF0YS10YWJsZS52LWRhdGEtdGFibGUgPj4+IHRkICB7CiAgZm9udC1zaXplOiBzbWFsbGVyICFpbXBvcnRhbnQ7CiAgcGFkZGluZzogLjVlbSAuNWVtIDFlbSAxZW07Cn0KI2Rlc2NyX3BhbmVsewogIGZvbnQtc2l6ZTogc21hbGxlciAhaW1wb3J0YW50Owp9CgouY2VsbC1hcnJvd3sKICBjb2xvcjogZGFya2dyYXk7Cn0KCi5hdmF0YXItc291cmNlewogIG1hcmdpbi10b3A6IDAuNGVtOwogIG1hcmdpbi1yaWdodDogMC4yZW07Cn0KCiN1cmx7CiAgd2lkdGg6IDk2JTsKICB0ZXh0LWFsaWduOiBsZWZ0OwogIG1hcmdpbi1yaWdodDogYXV0bzsKICBtYXJnaW4tbGVmdDogYXV0bzsKfQojdXJsIHB7CiAgdGV4dC1pbmRlbnQ6IC43cmVtOwp9CgoucHVibGljYXRpb25zID4+PiAuZmFzewogIHBhZGRpbmctcmlnaHQ6IC4xNWVtOwogIHBhZGRpbmctbGVmdDogLjE1ZW07CiAgcGFkZGluZy1ib3R0b206IC40ZW07Cn0KCg=="},{"version":3,"sources":["Results.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAkIA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA","file":"Results.vue","sourceRoot":"src/components","sourcesContent":["<template>\n<div>\n  <div id='url'>\n    <h5>URL:</h5>\n    <p><a :href=\"build_url(run_id) \" target='_blank'>{{ build_url(run_id) }}</a></p>\n  </div>\n  <v-expansion-panels flat>\n    <v-expansion-panel>\n      <v-expansion-panel-header><h5>Input parameters</h5></v-expansion-panel-header>\n      <v-expansion-panel-content>\n        <div style=\"width:70%\">\n          <v-data-table\n            :headers=\"inputsHeaders\"\n            :items=\"inputParameters\"\n            :items-per-page=\"10\"\n            class=\"elevation-2\"\n          ></v-data-table>\n        </div>\n      </v-expansion-panel-content>\n      </v-expansion-panel>\n    </v-expansion-panels>\n  <br>\n    <v-expansion-panels flat v-model=\"panel\">\n      <v-expansion-panel\n      expand\n      v-model=\"panel\">\n      <v-expansion-panel-header>\n        <h4>Results</h4>\n      </v-expansion-panel-header>\n      <v-expansion-panel-content>\n        <div>\n          <v-data-table\n            :class=\"table\"\n            v-model=\"rowSelect\"\n            :headers=\"headers\"\n            :items=\"tools\"\n            :items-per-page=\"10\"\n            :search=\"search\"\n            :sort-by=\"['score']\"\n            :sort-desc=\"[true]\"\n            multi-sort\n            class=\"elevation-0\" \n          >\n            <template v-slot:top>\n              <v-toolbar flat>\n                <v-text-field\n                    v-model=\"search\"\n                    append-icon=\"mdi-magnify\"\n                    label=\"Search\"\n                    single-line\n                ></v-text-field>\n                <v-spacer></v-spacer>\n                </v-toolbar>\n            </template>\n            <template v-slot:[`body`]=\"{ items }\">\n              <tbody>\n                <tr \n                  @click=\"rowSelect(key)\" \n                  v-for=\"(item, key) in items\" :key=\"item.name\"\n                >\n                  <td>\n                    <i  v-if=\"arrowsDownShow(key, item.name)\" class=\"fas fa-angle-down cell-arrow\"></i>\n                    <i  v-if=\"arrowsUpShow(key, item.name)\" class=\"fas fa-angle-up cell-arrow\"></i>\n                  </td>\n                  <td>\n                    <b><big>{{ item.name }}</big></b>\n                  </td>\n                  <td>\n                      {{ dictGet(item.type).hover }}\n                  </td>\n                  <td>\n                    <SourceAvatar :avatarProps='avatars.biotools' :sources_labels='item.sources_labels'/>\n                    <SourceAvatar :avatarProps='avatars.bioconda' :sources_labels='item.sources_labels'/>\n                    <SourceAvatar :avatarProps='avatars.github' :sources_labels='item.sources_labels'/>\n                    <SourceAvatar :avatarProps='avatars.bioconductor' :sources_labels='item.sources_labels'/>\n                    <SourceAvatar :avatarProps='avatars.galaxy' :sources_labels='item.sources_labels'/>\n                    <SourceAvatar :avatarProps='avatars.other' :sources_labels='item.sources_labels'/>\n                  </td>\n                  <td>\n                    <span v-html=\"descriptionSpan(trimIfNotSelected(item.description[0], key))\"></span>\n                  </td>\n                  <td>\n                    <ul>\n                      <li v-for=\"(topic, name) in trimListIfNotSelected(item.edam_topics, key)\" :key=\"name\">\n                        {{ topic.label }}\n                      </li>\n                      <span v-if=\"item.edam_topics.length > 5 && arrowsUpShow(key, item.name) == false\">...</span>                      \n                    </ul>\n                  </td>\n                  <td>\n                    <ul>\n                      <li v-for=\"(operation, name) in trimListIfNotSelected(item.edam_operations, key)\" :key=\"name\">\n                        {{ operation.label }}\n                      </li>\n                      <span v-if=\"item.edam_operations.length > 5 && arrowsUpShow(key, item.name) == false\">...</span>\n                    </ul>\n                  </td>\n                  <td>\n                    <ul>\n                      <div v-for=\"(pdata, year) in build_pubs(item, key)\" :key=\"year\" class='publications'>\n                        <v-icon class='fas fa-circle' :color = 'pdata.color' size=\"10\"></v-icon> \n                        <span v-html=\"span(pdata['title'], pdata['year'])\" />\n                          <a v-for=\"(link, year) in pdata['links']\" :key=\"year\"  :href=\"link\" target=\"_blank\">  \n                            <i class='fas fa-external-link-alt' size=\"3\"></i>\n                            </a>\n                      </div>\n                    </ul>\n                  </td>\n                  <td>\n                    <PubPlot :pubPlotProps='item' />\n                  </td>\n                  <td>\n                    {{ item.license[0] }}\n                    <!-- Match license to spdx-->\n                  </td>\n                  <td>\n                    {{ item.score }}\n                  </td>\n                </tr>\n              </tbody>\n            </template>\n          </v-data-table>\n        </div>\n      </v-expansion-panel-content>\n    </v-expansion-panel>\n  </v-expansion-panels>\n</div>\n</template>\n\n<style scoped>\n.v-data-table >>> th {\n  font-size: smaller !important; \n}\n\n.v-data-table.v-data-table.v-data-table >>> tr:hover  {\n  background-color: white !important;\n}\n\n.v-data-table.v-data-table.v-data-table >>> td  {\n  font-size: smaller !important;\n  padding: .5em .5em 1em 1em;\n}\n#descr_panel{\n  font-size: smaller !important;\n}\n\n.cell-arrow{\n  color: darkgray;\n}\n\n.avatar-source{\n  margin-top: 0.4em;\n  margin-right: 0.2em;\n}\n\n#url{\n  width: 96%;\n  text-align: left;\n  margin-right: auto;\n  margin-left: auto;\n}\n#url p{\n  text-indent: .7rem;\n}\n\n.publications >>> .fas{\n  padding-right: .15em;\n  padding-left: .15em;\n  padding-bottom: .4em;\n}\n\n</style>\n\n<script>\nimport SourceAvatar from './SourceAvatar.vue'\nimport PubPlot from './PubPlot.vue'\n\nexport default {\n  name: 'Results',\n  props: ['tools', 'inputParameters', 'run_id'],\n  components: {\n    SourceAvatar,\n    PubPlot\n  },\n  data () {\n    return {\n      activeResults: true,\n      panel: 0,\n      search: '',\n      selected: null,\n      isHovering: false,\n      longResults:[],\n      avatars: {\n        biotools: {\n          src:'elixir-logo.svg',\n          color:'orange',\n          content:'bio.tools',\n          url:'bio.tools',\n          label: 'biotools',\n        },\n        bioconda: {\n          src:'bioconda-logo.svg',\n          color:'#005500',\n          content:'bioconda',\n          url:'',\n          label:'bioconda'\n        },\n        github: {\n          src:'github-logo.svg',\n          color:'black',\n          content:'GitHub',\n          url:'github.org',\n          label:'github'\n        },\n        bioconductor: {\n          src:'bioconductor-logo.svg',\n          color:'#2f93ba',\n          content:'Bioconductor',\n          url:'',\n          label:'bioconductor'\n        },\n        galaxy: {\n          src: 'galaxy-logo.svg',\n          color: '#134798',\n          content: 'Galaxy Eu',\n          url:'',\n          label: 'galaxy'\n        },\n        other: {\n          src: 'other.svg',\n          color: '#535682',\n          content: 'Homepage',\n          url:'',\n          label: 'other'\n        }\n      },\n      linksURLs: [\n        {id : 'doi',  template : 'https://doi.org/'},\n        {id : 'pmcid', template : 'https://www.ncbi.nlm.nih.gov/pmc/articles/'},\n        {id : 'pmid', template :'https://pubmed.ncbi.nlm.nih.gov/'}\n        ],\n      headers: [\n        {text: '', align: 'start', sortable: false, value: 'down', width: '1em'},\n        {text: 'Tool Name', align: 'start', sortable: false, value: 'name', width: '5rem'},\n        {text: 'Type of Software', value: 'type', width: '6rem'},\n        {text: 'Availability', value: 'source', width: '6rem'},\n        {text: 'Description', value: 'description', width: '13rem'},\n        {text: 'Related Topics', value: 'edam_topics', width: '8rem'},\n        {text: 'Functionality', value: 'edam_operations', width: '8rem'},\n        {text: 'Publications', value: 'publications', width: '14rem'},\n        {text: 'Number of Citations', value: 'publications',  width: '13rem'},\n        {text: 'License', value: 'license', width: '5rem'},\n        {text: 'Score', value: 'score', width: '3rem'}\n      ],\n      inputsHeaders: [\n        {text: 'Keyword', value: 'keyword'},\n        {text: 'Weight', value: 'weight'}\n      ],\n      typesAbb: {\n        'cmd' : {\n          'text': 'CMD',\n          'hover': 'Command-line Tool'\n        },\n        'web': {\n          'text': 'Web',\n          'hover': 'Web Application'\n        },\n        'db' : {\n          'text': 'DB',\n          'hover': 'Database'\n        },\n        'lib' : {\n          'text': 'Lib',\n          'hover': 'Library'\n        },\n        'unknown': {\n          'text': 'Unknown',\n          'hover': 'Unknown'\n        }\n      },\n      plot_colors: [\n      '#1f77b4',\n      '#ff7f0e',\n      '#2ca02c',\n      '#d62728',\n      '#9467bd',\n      '#8c564b',\n      '#e377c2',\n      '#7f7f7f',\n      '#bcbd22',\n      '#17becf' \n      ]   \n    }\n  },\n  mounted() {\n    this.tools.forEach((item) => {\n      if(item.description[0].length>320){\n        this.longResults.push(item.name)\n      }\n      if(item.edam_operations.length>5){\n        this.longResults.push(item.name)\n      }\n      if(item.edam_topics.length>5){\n        this.longResults.push(item.name)\n      }\n    })},\n  methods:{\n    rowSelect(idx) {\n      console.log('selected', idx)\n      if(this.selected === idx){\n        this.selected = null;\n      } else {\n        this.selected = idx;\n      }\n    },\n    arrowsDownShow(idx, toolID){\n      if(this.longResults.includes(toolID) && idx != this.selected){\n        return(true)\n      }else{\n        return(false)\n      }\n    },\n    arrowsUpShow(idx, toolID){\n      if(this.longResults.includes(toolID) && idx === this.selected){\n        return(true)\n      }else{\n        return(false)\n      }\n    },\n    trimIfNotSelected(value, idx){\n      if(this.selected === idx){\n        return(value)\n      }else{\n        if(value.length > 320){\n          var short = `${value.substring(0,320)} ...`\n        }else{\n          return(value)\n        }\n        return(short)\n      }\n    },\n    trimListIfNotSelected(list, idx){\n      if(this.selected === idx){\n        return(list)\n      }else{\n        var short_list = list.slice(0,5)\n        return(short_list)\n      }\n    },\n    dictGet(key) {\n      var result = this.typesAbb[key] || {'text':key, \"hover\":key}\n      return(result)\n    },\n    build_pubs(item){\n      var labels = []\n      for (let i = 0; i < item.citations.length; i++) {\n        const links = []\n        for(var k = 0; k < this.linksURLs.length; k++){\n          const idType = this.linksURLs[k]['id']\n          if(item.citations[i][idType]!=undefined){\n            links.push(this.linksURLs[k]['template']+item.citations[i][idType]) \n          }\n        }\n        labels.push({'title': item.citations[i]['title'], \n                     'year': item.citations[i]['year'], \n                     'color':this.plot_colors[i],\n                     'links':links})\n      }\n      return(labels)\n    },\n    formats(formats){\n      var string = ''\n      for (let i = 0; i < formats.length; i++) {\n        if(i>0){\n          string= string + ', ' + formats[i]\n        }else{\n          string= string + ': ' + formats[i]\n        }\n      }\n      return(string)\n    },\n    build_url(id){\n      if(this.tools.length===0){\n        return('')\n      }else{\n        var url = 'http://192.168.1.34:8080/run/' + id\n        return(url)\n      }\n    },\n    span(title, year){\n      const span = `${title} (${year})`\n      return(span)\n    },\n    descriptionSpan(description){\n      const html = `<span>${description}</span>`\n      return(html)\n    }\n  }\n}\n</script>\n"]}]}